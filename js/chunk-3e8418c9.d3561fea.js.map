{"version":3,"sources":["webpack:///./src/views/unmessage.vue?4b93","webpack:///./src/views/unmessage.vue?4420","webpack:///src/views/unmessage.vue","webpack:///./src/views/unmessage.vue?f63f","webpack:///./src/views/unmessage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","scopedSlots","_u","key","fn","staticStyle","attrs","_v","notRead","_l","notReadArr","id","_s","author","loginname","topic","title","domProps","reply","content","on","$event","Readed","proxy","ReadArr","_e","myInfo","avatar_url","staticRenderFns","components","data","Read","methods","computed","$store","state","component"],"mappings":"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","file":"js/chunk-3e8418c9.d3561fea.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./unmessage.vue?vue&type=style&index=0&id=444d0d65&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"unmessage\"},[_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"left\"},[_c('Panel',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"nav-top\"},[_c('li',[_c('router-link',{staticStyle:{\"color\":\"#409eff\"},attrs:{\"to\":\"/\"}},[_vm._v(\"主页\")])],1),_c('li',{staticStyle:{\"margin\":\"0\",\"color\":\"#9d9d9d\"}},[_vm._v(\"/\")]),_c('li',[_c('a',[_vm._v(\"新消息\")])])]),_c('div',{staticClass:\"unReadText-item unReadText-item-1\"},[(_vm.notRead === [])?_c('div',_vm._l((_vm.notRead),function(notReadArr){return _c('div',{key:notReadArr.id},[_vm._v(\" 用户\\\" \"),_c('span',[_vm._v(_vm._s(notReadArr.author.loginname))]),_vm._v(\" \\\"在话题《 \"),_c('span',[_vm._v(_vm._s(notReadArr.topic.title))]),_vm._v(\" 》中说\\\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\"},domProps:{\"innerHTML\":_vm._s(notReadArr.reply.content)}}),_vm._v(\" \\\" \"),_c('button',{on:{\"click\":function($event){return _vm.Readed(notReadArr.id)}}},[_vm._v(\"已读\")])])}),0):_c('div',[_c('p',[_vm._v(\"无未读消息\")])])])]},proxy:true},{key:\"content\",fn:function(){return [_c('div',{staticClass:\"nav-top\"},[_c('li',[_c('a',[_vm._v(\"过往信息\")])])]),_c('div',{staticClass:\"unReadText-item unReadText-item-2\"},[(_vm.Read)?_c('div',_vm._l((_vm.Read),function(ReadArr){return _c('div',{key:ReadArr.id},[_vm._v(\" 用户\\\" \"),_c('span',[_vm._v(_vm._s(ReadArr.author.loginname))]),_vm._v(\" \\\"在话题《 \"),_c('span',[_vm._v(_vm._s(ReadArr.topic.title))]),_vm._v(\" 》中提到了你 \")])}),0):_c('div',[_c('p',[_vm._v(\"无过往信息\")]),_vm._v(\"无过往信息 \")])])]},proxy:true}])})],1),_c('div',{staticClass:\"right\"},[_c('Panel',{staticClass:\"right\",attrs:{\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [(_vm.myInfo)?_c('span',[_vm._v(\"个人信息\")]):_vm._e()]},proxy:true},{key:\"content\",fn:function(){return [(_vm.myInfo)?_c('div',{staticClass:\"content-box\"},[_c('div',{staticClass:\"content-item-1\"},[_c('img',{attrs:{\"src\":_vm.myInfo.avatar_url,\"alt\":\"\"}})]),_c('div',{staticClass:\"content-item-2\"},[_c('span',[_vm._v(_vm._s(_vm.myInfo.loginname))])]),_c('div',{staticClass:\"content-item-3\"},[_c('i',[_vm._v(\"“这个家伙很懒，什么都没有留下”\")])])]):_vm._e()]},proxy:true}])})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"unmessage\">\r\n    <div class=\"box\">\r\n      <div class=\"left\">\r\n        <Panel>\r\n          <template #header>\r\n            <div class=\"nav-top\">\r\n              <li>\r\n                <router-link to=\"/\" style=\"color: #409eff\">主页</router-link>\r\n              </li>\r\n              <li style=\"margin: 0; color: #9d9d9d\">/</li>\r\n              <li><a>新消息</a></li>\r\n            </div>\r\n            <div class=\"unReadText-item unReadText-item-1\">\r\n              <div v-if=\"notRead === []\">\r\n                <div v-for=\"notReadArr in notRead\" :key=\"notReadArr.id\">\r\n                  用户\"\r\n                  <span>{{ notReadArr.author.loginname }}</span>\r\n                  \"在话题《\r\n                  <span>{{ notReadArr.topic.title }}</span>\r\n                  》中说\"\r\n                  <span\r\n                    v-html=\"notReadArr.reply.content\"\r\n                    style=\"display: inline-block\"\r\n                  ></span>\r\n                  \"\r\n                  <button @click=\"Readed(notReadArr.id)\">已读</button>\r\n                </div>\r\n              </div>\r\n              <div v-else>\r\n                <p>无未读消息</p>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <template #content>\r\n            <div class=\"nav-top\">\r\n              <li><a>过往信息</a></li>\r\n            </div>\r\n            <div class=\"unReadText-item unReadText-item-2\">\r\n              <div v-if=\"Read\">\r\n                <div v-for=\"ReadArr in Read\" :key=\"ReadArr.id\">\r\n                  用户\"\r\n                  <span>{{ ReadArr.author.loginname }}</span>\r\n                  \"在话题《\r\n                  <span>{{ ReadArr.topic.title }}</span>\r\n                  》中提到了你\r\n                </div>\r\n              </div>\r\n              <div v-else>\r\n                <p>无过往信息</p>无过往信息\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </Panel>\r\n      </div>\r\n\r\n      <div class=\"right\">\r\n        <Panel class=\"right\" width=\"300px\">\r\n          <template #header>\r\n            <span v-if=\"myInfo\">个人信息</span>\r\n          </template>\r\n          <template #content>\r\n            <div class=\"content-box\" v-if=\"myInfo\">\r\n              <div class=\"content-item-1\">\r\n                <img :src=\"myInfo.avatar_url\" alt=\"\" />\r\n              </div>\r\n              <div class=\"content-item-2\">\r\n                <span>{{ myInfo.loginname }}</span>\r\n              </div>\r\n              <div class=\"content-item-3\">\r\n                <i>“这个家伙很懒，什么都没有留下”</i>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </Panel>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Panel from \"../layout/Panel.vue\";\r\nexport default {\r\n  components: { Panel },\r\n  async created() {\r\n    this.$store.commit(\"getMyInfo\", this.myInfo);\r\n    const token = sessionStorage.getItem(\"token\");\r\n    if (token !== null) {\r\n      this.$store.dispatch(\"getMyInfo\", token);\r\n    }\r\n    const res = await this.$axios.get(`/messages?accesstoken=${token}`);\r\n    // const token = sessionStorage.getItem(\"token\");\r\n    // console.log(res.data.hasnot_read_messages);\r\n    const notReadArr = res.data.hasnot_read_messages;\r\n    const ReadArr = res.data.has_read_messages;\r\n    this.notRead = notReadArr;\r\n    this.Read = ReadArr;\r\n  },\r\n  data() {\r\n    return {\r\n      notRead: null,\r\n      Read: null,\r\n    };\r\n  },\r\n  methods: {\r\n    // async aa() {\r\n    //   const token = sessionStorage.getItem(\"token\");\r\n    //   const res = await this.$axios.get(`/messages?accesstoken=${token}`);\r\n    //   const not = res.data.hasnot_read_messages;\r\n    //   console.log(not);\r\n    // },\r\n    async Readed(id) {\r\n      const token = sessionStorage.getItem(\"token\");\r\n      const res = await this.$axios.post(\r\n        `/message/mark_one/${id}?accesstoken=${token}`\r\n      );\r\n      console.log(res);\r\n    },\r\n  },\r\n  computed: {\r\n    myInfo() {\r\n      return this.$store.state.myInfo;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.box {\r\n  .left {\r\n    .unReadText-item{\r\n      background-color: #fff;\r\n      padding: 50px 20px;\r\n      border-radius: 5px;\r\n      margin-bottom: 20px;\r\n    }\r\n  }\r\n  .right {\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./unmessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./unmessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./unmessage.vue?vue&type=template&id=444d0d65&scoped=true&\"\nimport script from \"./unmessage.vue?vue&type=script&lang=js&\"\nexport * from \"./unmessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./unmessage.vue?vue&type=style&index=0&id=444d0d65&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"444d0d65\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}